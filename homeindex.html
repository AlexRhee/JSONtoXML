@{
    var version = typeof(IdentityServer4.Hosting.IdentityServerMiddleware).Assembly.GetName().Version.ToString();
}

@{
    bool isAdmin = false;
    var roles = (User.Identity as System.Security.Claims.ClaimsIdentity).FindAll("role");
    if (roles != null)
    {
        foreach (var role in roles)
        {
            if (role.Value.Equals("Admin"))
            {
                isAdmin = true;
                break;
            }
        }
    }

    <div class="welcome-page content">
        <div class="row page-header">
            <div class="header-div">
                <h1>
                    @*<img class="icon" src="~/icon64.png">*@
                    Welcome to TABC
                    @*<small>(version @version)</small>*@
                </h1>
            </div>

        </div>

        <div class="row body-row">
            @*<div class="col-sm-8">
                    <p>
                        IdentityServer publishes a
                        <a href="~/.well-known/openid-configuration">discovery document</a>
                        where you can find metadata and links to all the endpoints, key material, etc.
                    </p>
                </div>*@
            <div class="col-xl-4 col-md-2 col-sm-0 col-xs-0"></div>
            <div class="col-xl-4 col-md-8 col-sm-12 col-xs-12">
                @{
                    if (isAdmin == false)
                    {<div class="col-sm-12 m-b-30">
                            <div class="card-s home-tile" onclick="window.location.href = ('/grants')">

                                <div class="imageMainDiv col-md-12">
                                    <i class="ion-ios7-paper-outline icon-s-7" href="~/grants"></i>
                                </div>
                                <div class="col-md-12 card-text">
                                    Click here to view the list of your applications.
                                </div>
                            </div>
                        </div>
                    }
                }
                @{
                    if (isAdmin)
                    {<div class="col-lg-6 col-sm-12 m-b-30">
                            <div class="card-s home-tile" onclick="window.location.href = ('/grants')">

                                <div class="imageMainDiv col-md-12">
                                    <i class="ion-ios7-paper-outline icon-s-7" href="~/grants"></i>
                                </div>
                                <div class="col-md-12 card-text">
                                    Click to view the list of your applications.
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-12 m-b-30">
                            <div class="card-s home-tile" onclick="window.location.href = ('/privateuser/showprivateusers')">
                                <div class="imageMainDiv col-md-12">
                                    <i class="ion-ios7-cog-outline icon-s-7" href="~/privateuser/showprivateusers"></i>
                                </div>
                                <div class="col-md-12 card-text">
                                    Click to manage your private users.
                                </div>
                            </div>
                        </div>
                    }
                }

                @{
                    if (isAdmin)
                    {
                        <div class="col-lg-6 col-sm-12 m-b-30">
                            <div class="card-s home-tile" onclick="window.location.href = ('/common/ShowAllUserLoginHistory')">
                                <div class="imageMainDiv col-md-12">
                                    <i class="ion-ios7-people-outline icon-s-7" href="~/common/ShowAllUserLoginHistory"></i>
                                </div>
                                <div class="col-md-12 card-text">
                                    Click to show all user login history.
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-12 m-b-30">
                            <div class="card-s home-tile" onclick="window.location.href = ('/common/ShowUserLogHistory')">
                                <div class="imageMainDiv col-md-12">
                                    <i class="icon-s-7 ion-ios7-time-outline" href="~/common/ShowUserLogHistory"></i>
                                </div>
                                <div class="col-md-12 card-text">
                                    Click to search user login history.
                                </div>
                            </div>
                        </div>

                    }
                }
            </div>
            <div class="col-xl-4 col-md-2 col-sm-0 col-xs-0"></div>
        </div>
        @*<div class="row">
                <div class="col-sm-8">
                    <p>
                        Here are links to the
                        <a href="https://github.com/identityserver/IdentityServer4">source code repository</a>,
                        and <a href="https://github.com/IdentityServer/IdentityServer4/tree/master/samples">ready to use samples</a>.
                    </p>
                </div>
            </div>*@
    </div>
}